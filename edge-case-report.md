# prettier-plugin-scala ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆ

## èª¿æŸ»æ¦‚è¦

å®Ÿéš›ã®Scala OSSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆCatsã€Play Frameworkã€Akkaï¼‰ã‚’ä½¿ç”¨ã—ã¦prettier-plugin-scalaã‚’ãƒ†ã‚¹ãƒˆã—ã€ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„æ§‹æ–‡ã‚„ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ç‰¹å®šã—ã¾ã—ãŸã€‚

## èª¿æŸ»å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

1. **typelevel/cats** - é–¢æ•°åž‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
2. **playframework/playframework** - Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯  
3. **akka/akka** - ã‚¢ã‚¯ã‚¿ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 

## ç™ºè¦‹ã•ã‚ŒãŸã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹

### 1. ðŸš« è¤‡æ•°ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨˜æ³•ï¼ˆImport Selectorsï¼‰

**å•é¡Œ**: `import package.{A, B, C}` è¨˜æ³•ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```scala
// âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
import cats.{Applicative, FlatMap, Monad}

// âœ… å›žé¿ç­–ï¼šå€‹åˆ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import cats.Applicative
import cats.FlatMap
import cats.Monad
```

**ã‚¨ãƒ©ãƒ¼**: `Expecting token of type --> Identifier <-- but found --> '{' <--`

### 2. ðŸš« Kind Projectorè¨˜æ³•ï¼ˆType LambdaçŸ­ç¸®è¨˜æ³•ï¼‰

**å•é¡Œ**: Scala 3ã®kind projectorè¨˜æ³• `[*]` ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```scala
// âŒ Lexing ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
val mapEmpty: EmptyK[Map[String, *]] = ???

// âœ… å›žé¿ç­–ï¼šå¾“æ¥ã®type lambdaè¨˜æ³•
val mapEmpty: EmptyK[({type Î»[Î±] = Map[String, Î±]})#Î»] = ???
```

**ã‚¨ãƒ©ãƒ¼**: `Lexing errors: unexpected character: ->?<- at offset: 73`

### 3. ðŸš« ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆAnnotationsï¼‰

**å•é¡Œ**: Java/Scalaã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ `@AnnotationName` ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```scala
// âŒ ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
class MyComponent @Inject() (lifecycle: String)

// âœ… å›žé¿ç­–ï¼šã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å‰Šé™¤ï¼ˆæ©Ÿèƒ½ã¯å¤±ã‚ã‚Œã‚‹ï¼‰
class MyComponent(lifecycle: String)
```

**ã‚¨ãƒ©ãƒ¼**: `Redundant input, expecting EOF but found: @`

### 4. ðŸš« Enumå®šç¾©ï¼ˆScala 3ï¼‰

**å•é¡Œ**: Scala 3ã®enumå®šç¾©ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```scala
// âŒ ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
enum Color {
  case Red, Green, Blue
}

// âœ… å›žé¿ç­–ï¼šsealed trait + case object
sealed trait Color
object Color {
  case object Red extends Color
  case object Green extends Color
  case object Blue extends Color
}
```

**ã‚¨ãƒ©ãƒ¼**: `Expecting token of type --> RightBrace <-- but found --> 'case' <--`

### 5. ðŸš« Extension Methodsï¼ˆScala 3ï¼‰

**å•é¡Œ**: Scala 3ã®extension methodsãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“

```scala
// âŒ ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
extension (s: String) {
  def reverse: String = s.reverse
}

// âœ… å›žé¿ç­–ï¼šimplicit class
implicit class StringExtensions(s: String) {
  def reverse: String = s.reverse
}
```

**ã‚¨ãƒ©ãƒ¼**: `Expecting token of type --> RightParen <-- but found --> ':' <--`

## æ­£å¸¸å‹•ä½œç¢ºèªæ¸ˆã¿æ©Ÿèƒ½

âœ… **ä»¥ä¸‹ã®æ©Ÿèƒ½ã¯æ­£å¸¸ã«ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã•ã‚Œã¾ã™**:

- åŸºæœ¬ã‚¯ãƒ©ã‚¹ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ»ãƒˆãƒ¬ã‚¤ãƒˆå®šç¾©
- ã‚±ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹
- ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ï¼ˆåž‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰
- ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒžãƒƒãƒãƒ³ã‚°
- Forå†…åŒ…è¡¨è¨˜
- ãƒ©ãƒ ãƒ€å¼ï¼ˆå˜ç´”ãƒ»åž‹æ³¨é‡ˆä»˜ããƒ»ãƒžãƒ«ãƒãƒ©ã‚¤ãƒ³ï¼‰
- ä¸­ç½®è¨˜æ³•æ¼”ç®—å­
- æ–‡å­—åˆ—è£œé–“ `s"$variable"`
- Givenå®šç¾©ï¼ˆScala 3åŸºæœ¬æ©Ÿèƒ½ï¼‰
- ã‚³ãƒ¡ãƒ³ãƒˆä¿æŒ

## å½±éŸ¿åº¦è©•ä¾¡

### High Priorityï¼ˆé«˜å„ªå…ˆåº¦ï¼‰ - å®Ÿç”¨ä¸Šå¿…é ˆ

1. **è¤‡æ•°ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨˜æ³•** - ã»ã¼å…¨ã¦ã®Scalaãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨
2. **ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³** - Spring/DIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ãƒ†ã‚¹ãƒˆã§å¿…é ˆ

### Medium Priorityï¼ˆä¸­å„ªå…ˆåº¦ï¼‰ - Scala 3ç§»è¡Œã§é‡è¦

3. **Enumå®šç¾©** - Scala 3ã®ä¸»è¦æ©Ÿèƒ½
4. **Extension Methods** - Scala 3ã®ä¸»è¦æ©Ÿèƒ½  

### Low Priorityï¼ˆä½Žå„ªå…ˆåº¦ï¼‰ - å›žé¿ç­–ã‚ã‚Š

5. **Kind Projectorè¨˜æ³•** - ã‚ˆã‚Šå†—é•·ãªè¨˜æ³•ã§ä»£æ›¿å¯èƒ½

## æŽ¨å¥¨æ”¹å–„æ¡ˆ

### æ®µéšŽ1: åŸºæœ¬æ§‹æ–‡ã‚µãƒãƒ¼ãƒˆæ‹¡å¼µ

1. **è¤‡æ•°ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨˜æ³•ã®å®Ÿè£…**
   - ãƒ¬ã‚­ã‚µãƒ¼ã« `{`, `}` å¯¾å¿œè¿½åŠ 
   - ãƒ‘ãƒ¼ã‚µãƒ¼ã«importSelectorè¦å‰‡è¿½åŠ 

2. **ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³åŸºæœ¬ã‚µãƒãƒ¼ãƒˆ**
   - `@` ãƒˆãƒ¼ã‚¯ãƒ³èªè­˜è¿½åŠ 
   - ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æ–‡ã®ãƒ‘ãƒ¼ã‚µãƒ¼è¦å‰‡è¿½åŠ 

### æ®µéšŽ2: Scala 3ã‚µãƒãƒ¼ãƒˆå¼·åŒ–

3. **Enumå®šç¾©ã‚µãƒãƒ¼ãƒˆ**
   - `enum` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ 
   - enumæœ¬ä½“ã®ãƒ‘ãƒ¼ã‚µãƒ¼è¦å‰‡è¿½åŠ 

4. **Extension Methodsã‚µãƒãƒ¼ãƒˆ**
   - `extension` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ 
   - extensionæ§‹æ–‡ã®ãƒ‘ãƒ¼ã‚µãƒ¼è¦å‰‡è¿½åŠ 

### æ®µéšŽ3: é«˜åº¦ãªæ©Ÿèƒ½

5. **Kind Projectorè¨˜æ³•**
   - type lambdaçŸ­ç¸®è¨˜æ³•ã®å®Ÿè£…
   - `*` ãƒˆãƒ¼ã‚¯ãƒ³ã®ç‰¹åˆ¥å‡¦ç†

## çµè«–

prettier-plugin-scalaã¯åŸºæœ¬çš„ãªScalaæ§‹æ–‡ã‚’è‰¯ãã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ãŒã€**å®Ÿéš›ã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã§é »ç¹ã«ä½¿ç”¨ã•ã‚Œã‚‹é‡è¦ãªæ§‹æ–‡**ï¼ˆè¤‡æ•°ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã®ã‚µãƒãƒ¼ãƒˆãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚

ç‰¹ã«**è¤‡æ•°ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¨˜æ³•**ã¨**ã‚¢ãƒŽãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**ã®å®Ÿè£…ã¯ã€å®Ÿç”¨æ€§å‘ä¸Šã®ãŸã‚ã«æœ€å„ªå…ˆã§å¯¾å¿œã™ã¹ãã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã§ã™ã€‚

---

*èª¿æŸ»æ—¥: 2025/6/4*  
*å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³: prettier-plugin-scala v0.1.0*  
*ãƒ†ã‚¹ãƒˆç’°å¢ƒ: Cats 2.x, Play Framework 3.x, Akka 2.6.x*